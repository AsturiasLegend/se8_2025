{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport { ref } from 'vue';\nimport axios from '../api';\nimport { useRouter } from 'vue-router';\nexport default {\n  __name: 'LoginView',\n  setup(__props, {\n    expose: __expose\n  }) {\n    __expose();\n    const username = ref('');\n    const password = ref('');\n    const error = ref('');\n    const router = useRouter();\n    const login = async () => {\n      try {\n        await axios.post('/login/', {\n          username: username.value,\n          password: password.value\n        });\n        router.push('/dashboard');\n      } catch (err) {\n        error.value = '登录失败，请检查用户名或密码';\n      }\n    };\n    const __returned__ = {\n      username,\n      password,\n      error,\n      router,\n      login,\n      ref,\n      get axios() {\n        return axios;\n      },\n      get useRouter() {\n        return useRouter;\n      }\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n};","map":{"version":3,"names":["ref","axios","useRouter","username","password","error","router","login","post","value","push","err"],"sources":["E:/ZJU_Courses/CS/se/register/src/views/LoginView.vue"],"sourcesContent":["<template>\r\n  <div class=\"p-4\">\r\n    <h2>登录</h2>\r\n    <input v-model=\"username\" placeholder=\"用户名\" />\r\n    <input v-model=\"password\" type=\"password\" placeholder=\"密码\" />\r\n    <button @click=\"login\">登录</button>\r\n    <p v-if=\"error\" style=\"color:red\">{{ error }}</p>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport { ref } from 'vue'\r\nimport axios from '../api'\r\nimport { useRouter } from 'vue-router'\r\n\r\nconst username = ref('')\r\nconst password = ref('')\r\nconst error = ref('')\r\nconst router = useRouter()\r\n\r\nconst login = async () => {\r\n  try {\r\n    await axios.post('/login/', {\r\n      username: username.value,\r\n      password: password.value\r\n    })\r\n    router.push('/dashboard')\r\n  } catch (err) {\r\n    error.value = '登录失败，请检查用户名或密码'\r\n  }\r\n}\r\n</script>\r\n"],"mappings":";AAWA,SAASA,GAAG,QAAQ,KAAK;AACzB,OAAOC,KAAK,MAAM,QAAQ;AAC1B,SAASC,SAAS,QAAQ,YAAY;;;;;;;IAEtC,MAAMC,QAAQ,GAAGH,GAAG,CAAC,EAAE,CAAC;IACxB,MAAMI,QAAQ,GAAGJ,GAAG,CAAC,EAAE,CAAC;IACxB,MAAMK,KAAK,GAAGL,GAAG,CAAC,EAAE,CAAC;IACrB,MAAMM,MAAM,GAAGJ,SAAS,CAAC,CAAC;IAE1B,MAAMK,KAAK,GAAG,MAAAA,CAAA,KAAY;MACxB,IAAI;QACF,MAAMN,KAAK,CAACO,IAAI,CAAC,SAAS,EAAE;UAC1BL,QAAQ,EAAEA,QAAQ,CAACM,KAAK;UACxBL,QAAQ,EAAEA,QAAQ,CAACK;QACrB,CAAC,CAAC;QACFH,MAAM,CAACI,IAAI,CAAC,YAAY,CAAC;MAC3B,CAAC,CAAC,OAAOC,GAAG,EAAE;QACZN,KAAK,CAACI,KAAK,GAAG,gBAAgB;MAChC;IACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}